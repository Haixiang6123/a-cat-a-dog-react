(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,n){e.exports=n(345)},343:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),i=n(36),u=n(47),s=n(87),l=n.n(s),p=l.a.create({baseURL:"https://api.thecatapi.com/v1",headers:{"x-api-key":"416848bd-ea2f-4d38-a329-0e858ab5cd38"}}),f=l.a.create({baseURL:"https://api.thedogapi.com/v1",headers:{"x-api-key":"89e98203-1b5b-4c32-a67b-e314bf19f4c5"}}),d={CAT:p,DOG:f},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_AXIOS":return d[t.payload];default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_BREEDS":return t.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CATEGORIES":return t.payload;default:return e}},h=n(56),v=n(37),E={type:"CAT",breeds:{},categories:{}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTING_TYPE":return Object(v.a)({},e,{type:t.payload});case"INIT_SETTING_BREEDS":return Object(v.a)({},e,{breeds:t.payload});case"UPDATE_SETTING_BREEDS":var n=t.payload;return Object(v.a)({},e,{breeds:Object(v.a)({},e.breeds,Object(h.a)({},n,!0))});case"INIT_SETTING_CATEGORIES":return Object(v.a)({},e,{categories:t.payload});case"UPDATE_SETTING_CATEGORIES":var a=t.payload;return Object(v.a)({},e,{categories:Object(v.a)({},e.categories,Object(h.a)({},a,!0))});default:return e}},j=Object(u.b)({axios:m,breeds:g,categories:b,setting:O}),y=Object(u.c)(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(11),S=n.n(T),I=n(31),x=n(23),C=n(24),w=n(26),_=n(25),k=n(27),A=n(57),D=n(40),B=n(71),G=n.n(B),N=n(30),U=n.n(N),R=n(74),P=y.getState().axios;y.subscribe(function(){P=y.getState().axios});var M={getImages:function(e){return P.get("/images/search",{params:e}).then(function(e){return e.data})},getImageById:function(e,t){return P.get("/images/".concat(e),{params:t}).then(function(e){return e.data})},getUploadedImages:function(e){return P.get("/images",{params:e}).then(function(e){return e.data})},uploadImage:function(e){return P.post("/images/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e}).catch(function(e){return e.response})},deleteImage:function(e){return P.delete("/images/".concat(e)).then(function(e){return e.data})},analyzeImage:function(e){return P.get("/images/".concat(e,"/analysis")).then(function(e){return e.data})}},F=y.getState().axios;y.subscribe(function(){F=y.getState().axios});var V={getVotes:function(e){return F.get("/votes",{params:e}).then(function(e){return e.data})},getVoteById:function(e){return F.get("/votes/".concat(e)).then(function(e){return e.data})},addVote:function(e){return F.post("/votes",e).then(function(e){return e.data})},deleteVote:function(e){return F.delete("/votes/".concat(e)).then(function(e){return e.data})}},z=y.getState().axios;y.subscribe(function(){z=y.getState().axios});var W={getFavourites:function(e){return z.get("/favourites",{params:e}).then(function(e){return e.data})},getFavouriteById:function(e){return z.get("/favourites/".concat(e)).then(function(e){return e.data})},addFavourite:function(e){return z.post("/favourites",e).then(function(e){return e.data})},deleteFavourite:function(e){return z.delete("/favourites/".concat(e)).then(function(e){return e.data})}},J=n(7),L=n(8),X=n(28),Y=n.n(X);function $(){var e=Object(J.a)([" \n"]);return $=function(){return e},e}function q(){var e=Object(J.a)(["\n  color: #20232a !important;\n"]);return q=function(){return e},e}function H(){var e=Object(J.a)([" \n  color: #fadb14 !important;\n"]);return H=function(){return e},e}function K(){var e=Object(J.a)(["\n  color: #61dafb !important;\n"]);return K=function(){return e},e}function Q(){var e=Object(J.a)(["\n"]);return Q=function(){return e},e}function Z(){var e=Object(J.a)(["\n  margin-top: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  border-top: 1px solid #ddd;\n"]);return Z=function(){return e},e}function ee(){var e=Object(J.a)(["\n  width: 100%;\n  vertical-align: top;\n  border-radius: 8px;\n"]);return ee=function(){return e},e}function te(){var e=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 510px;\n  overflow: hidden;\n  border-radius: 12px;\n"]);return te=function(){return e},e}function ne(){var e=Object(J.a)(["\n  margin: 0 auto;\n  width: 100%;\n"]);return ne=function(){return e},e}var ae=L.a.div(ne()),re=L.a.div(te()),ce=L.a.img(ee()),oe=L.a.div(Z()),ie=Object(L.a)(Y.a)(Q()),ue=Object(L.a)(Y.a)(K()),se=Object(L.a)(Y.a)(H()),le=Object(L.a)(Y.a)(q()),pe=Object(L.a)(Y.a)($()),fe=function(e){return a.createElement(R.a,Object.assign({},e,{direction:"up"}))},de=n(67),me=n.n(de),ge=n(69),be=n.n(ge),he=n(45),ve=n.n(he),Ee=n(68),Oe=n.n(Ee),je=n(46),ye=n.n(je);function Te(){var e=Object(J.a)(["\n"]);return Te=function(){return e},e}function Se(){var e=Object(J.a)(["\n  padding: 8px;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(J.a)(["\n\n"]);return Ie=function(){return e},e}function xe(){var e=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  color: #20232a;\n  font-size: 1.2em;\n"]);return xe=function(){return e},e}var Ce=L.a.header(xe()),we=Object(L.a)(Y.a)(Ie()),_e=Object(L.a)(ye.a)(Se()),ke=Object(L.a)(Y.a)(Te()),Ae=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).openUser=function(e){var t=e.currentTarget;n.setState({popperEl:t,isOpenUser:!n.state.isOpenUser})},n.state={popperEl:null,isOpenUser:!1},n}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isOpenUser,n=e.popperEl;return a.createElement(Ce,null,a.createElement(we,{onClick:this.openUser}," ",a.createElement(U.a,null,"person")," "),a.createElement(A.b,{to:"/"},a.createElement(me.a,null,"\ud83d\udc31A\ud83d\udc36")),a.createElement(A.b,{to:"/setting"},a.createElement(ke,null,a.createElement(U.a,null,"settings"))),a.createElement(Oe.a,{placement:"bottom-start",open:t,anchorEl:n,transition:!0},function(e){var t=e.TransitionProps;return a.createElement(be.a,Object.assign({},t,{timeout:350}),a.createElement(ve.a,null,a.createElement(_e,null,"hai_test")))}))}}]),t}(a.Component),De=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).vote=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.addVote({sub_id:"hai_test",image_id:n.state.images[0].id,value:1});case 2:n.setState({isOpenMsg:!0,msg:"Vote it"});case 3:case"end":return e.stop()}},e)})),n.onChangeImage=Object(I.a)(S.a.mark(function e(){var t,a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.state.imageInput).current&&t.current.files&&0!==t.current.files.length){e.next=3;break}return e.abrupt("return");case 3:return(a=new FormData).append("sub_id","hai_test"),a.append("file",t.current.files[0]),e.next=8,M.uploadImage(a);case 8:(r=e.sent).status.toString().startsWith("2")?n.setState({isOpenMsg:!0,msg:"Upload successfully"}):n.setState({isOpenMsg:!0,msg:r.data.message});case 10:case"end":return e.stop()}},e)})),n.onCloseMsg=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isOpenMsg:!1});case 1:case"end":return e.stop()}},e)})),n.updateImage=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getImages();case 2:t=e.sent,n.setState({images:t});case 4:case"end":return e.stop()}},e)})),n.favourite=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.addFavourite({sub_id:"hai_test",image_id:n.state.images[0].id});case 2:n.setState({isOpenMsg:!0,msg:"Add to favourite"});case 3:case"end":return e.stop()}},e)})),n.state={images:[],imageInput:a.createRef(),isOpenMsg:!1,msg:""},n}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateImage();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.images,r=t.imageInput,c=t.isOpenMsg,o=t.msg;return a.createElement(ae,null,n.map(function(t){return a.createElement("div",{key:t.id},a.createElement(Ae,null),a.createElement(re,null,a.createElement(ce,{src:t.url,alt:"Animal Image"})),a.createElement(oe,null,a.createElement(ie,{color:"primary",onClick:e.vote}," ",a.createElement(U.a,{fontSize:"large"},"thumb_up")," "),a.createElement("input",{onChange:e.onChangeImage,accept:"image/*",style:{display:"none"},id:"new-file",type:"file",ref:r}),a.createElement("label",{htmlFor:"new-file"},a.createElement(ue,{component:"span"},a.createElement(U.a,null,"cloud_upload"))),a.createElement(se,{onClick:e.favourite}," ",a.createElement(U.a,{fontSize:"large"},"star")," "),a.createElement(le,null,a.createElement(U.a,null,"show_chart")),a.createElement(pe,{color:"secondary",onClick:e.updateImage}," ",a.createElement(U.a,{fontSize:"large"},"arrow_forward_ios")," ")),a.createElement(R.b,{open:c,TransitionComponent:fe,onClose:e.onCloseMsg,message:o}))}))}}]),t}(a.Component),Be=Object(i.b)(function(e){return{axios:e.axios,breeds:e.breeds,categories:e.categories}},{})(De),Ge=function(e){return{type:"INIT_SETTING_BREEDS",payload:e}},Ne=function(e){return{type:"INIT_SETTING_CATEGORIES",payload:e}},Ue=n(53),Re=n.n(Ue),Pe=n(54),Me=n.n(Pe),Fe=n(41),Ve=n.n(Fe),ze=n(70),We=n.n(ze),Je=n(48),Le=n.n(Je);function Xe(){var e=Object(J.a)(["\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(J.a)(["\n"]);return Ye=function(){return e},e}function $e(){var e=Object(J.a)(["\n"]);return $e=function(){return e},e}function qe(){var e=Object(J.a)(["\n  h3 {\n    text-align: center;\n  }\n"]);return qe=function(){return e},e}var He=L.a.div(qe()),Ke=Object(L.a)(Le.a)($e()),Qe=Object(L.a)(Le.a)(Ye()),Ze=Object(L.a)(Le.a)(Xe()),et=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).onChangeType=function(e){n.setState({selectedType:e.target.value})},n.onChangeBreed=function(e){},n.onChangeCategory=function(e){},n}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ge({}),Ne({});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.breeds,r=t.categories,c=t.setting;return a.createElement(He,null,a.createElement(Ae,null),a.createElement("section",null,a.createElement("h3",null,"Type Setting"),a.createElement(Ke,null,a.createElement(We.a,{value:c.type,onChange:this.onChangeType},a.createElement(Ve.a,{value:"CAT",control:a.createElement(Re.a,null),label:"CAT"}),a.createElement(Ve.a,{value:"DOG",control:a.createElement(Re.a,null),label:"DOG"})))),a.createElement("section",null,a.createElement("h3",null,"Breed Setting"),a.createElement(Qe,null,n.map(function(t){return a.createElement(Ve.a,{key:t.id,value:String(t.id),control:a.createElement(Me.a,null),onChange:e.onChangeBreed,checked:Boolean(c.breeds[t.id]),label:t.name})}))),a.createElement("section",null,a.createElement("h3",null,"Category Setting"),a.createElement(Ze,null,r.map(function(t){return a.createElement(Ve.a,{key:t.id,value:String(t.id),control:a.createElement(Me.a,null),onChange:e.onChangeCategory,checked:Boolean(c.categories[t.id]),label:t.name})}))))}}]),t}(a.Component),tt={updateSettingType:function(e){return{type:"UPDATE_SETTING_TYPE",payload:e}},updateSettingBreeds:function(e){return{type:"UPDATE_SETTING_BREEDS",payload:e}},updateSettingCategories:function(e){return{type:"UPDATE_SETTING_CATEGORIES",payload:e}},initSettingBreeds:Ge,initSettingCategories:Ne},nt=Object(i.b)(function(e){return{breeds:e.breeds,categories:e.categories,setting:e.setting}},tt)(et),at=function(e){function t(){return Object(x.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return a.createElement("div",null,"Vote Page")}}]),t}(a.Component),rt=function(e){function t(){return Object(x.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return a.createElement("div",null,"Favourite Page")}}]),t}(a.Component),ct=(n(343),y.getState().axios);y.subscribe(function(){ct=y.getState().axios});var ot=function(e){return ct.get("/breeds",{params:e}).then(function(e){return e.data})},it=y.getState().axios;y.subscribe(function(){it=y.getState().axios});var ut=function(){return it.get("/categories").then(function(e){return e.data})},st=function(e){function t(e){return Object(x.a)(this,t),Object(w.a)(this,Object(_.a)(t).call(this,e))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.updateAxios("CAT"),e.next=3,ut();case 3:return t=e.sent,this.props.initCategories(t),e.next=7,ot();case 7:n=e.sent,this.props.initBreeds(n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(A.a,null,r.a.createElement(G.a,{className:"app-wrapper"},r.a.createElement(D.a,{path:"/",exact:!0,component:Be}),r.a.createElement(D.a,{path:"/setting",component:nt}),r.a.createElement(D.a,{path:"/vote",component:at}),r.a.createElement(D.a,{path:"/favourite",component:rt})))}}]),t}(a.Component),lt={initBreeds:function(e){return{type:"INIT_BREEDS",payload:e}},initCategories:function(e){return{type:"INIT_CATEGORIES",payload:e}},updateAxios:function(e){return{type:"UPDATE_AXIOS",payload:e}}},pt=Object(i.b)(function(e){return{}},lt)(st);o.a.render(r.a.createElement(i.a,{store:y},r.a.createElement(pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[211,1,2]]]);
//# sourceMappingURL=main.948fb6ed.chunk.js.map